
import json
url="https://beta.patdelanalytics.ai/api/v1/patent/ta"
paylaod=[
    "AU-2012345736-A1",
    "AU-2012345736-B2",
    "AU-2019409705-A1",
    "AU-2019409705-B2",
    "BR-112014013059-A2",
    "BR-112014013059-A8",
    "BR-112019002090-A2",
    "BR-112019002090-B1",
    "BR-112021011170-A2",
    "BR-112022013974-A2",
    "CA-2658063-A1",
    "CA-2658063-C",
    "CA-2790481-A1",
    "CA-2857027-A1",
    "CA-2857027-C",
    "CA-3045749-A1",
    "CA-3115423-A1",
    "CA-3123982-A1",
    "CA-3123982-C",
    "CA-3141652-A1",
    "CA-3181398-A1",
    "CA-3199318-A1",
    "CN-101238754-A",
    "CN-101460863-A",
    "CN-101460863-B",
    "CN-101477085-A",
    "CN-101477085-B",
    "CN-101637395-A",
    "CN-101637395-B",
    "CN-101865789-A",
    "CN-101865789-B",
    "CN-102636435-A",
    "CN-102865919-A",
    "CN-102865919-B",
    "CN-102981156-A",
    "CN-103033816-A",
    "CN-103033816-B",
    "CN-103037204-A",
    "CN-103512960-A",
    "CN-103512960-B",
    "CN-104181235-A",
    "CN-104181235-B",
    "CN-104410939-A",
    "CN-104410939-B",
    "CN-104614728-A",
    "CN-104614728-B",
    "CN-104646260-A",
    "CN-104646260-B",
    "CN-104777485-A",
    "CN-104777485-B",
    "CN-105182316-A",
    "CN-105182316-B",
    "CN-105223567-A",
    "CN-105223567-B",
    "CN-105241544-A",
    "CN-105241544-B",
    "CN-105548363-A",
    "CN-105572224-A",
    "CN-105572224-B",
    "CN-105675721-A",
    "CN-105763702-A",
    "CN-105763702-B",
    "CN-106124044-A",
    "CN-106124044-B",
    "CN-106197881-A",
    "CN-106248340-A",
    "CN-106248340-B",
    "CN-106292656-A",
    "CN-106292656-B",
    "CN-106404377-A",
    "CN-106680825-A",
    "CN-106680825-B",
    "CN-106772370-A",
    "CN-106772370-B",
    "CN-106796290-A",
    "CN-106796290-B",
    "CN-106918646-A",
    "CN-106990172-A",
    "CN-106990172-B",
    "CN-107132280-A",
    "CN-107132280-B",
    "CN-107356678-A",
    "CN-107356678-B",
    "CN-107817297-A",
    "CN-107917960-A",
    "CN-108027879-A",
    "CN-108169333-A",
    "CN-108303471-A",
    "CN-108335336-A",
    "CN-108335336-B",
    "CN-108389174-A",
    "CN-108389174-B",
    "CN-108490077-A",
    "CN-108894779-A",
    "CN-108894779-B",
    "CN-109073603-A",
    "CN-109073603-B",
    "CN-109164453-A",
    "CN-109187755-A",
    "CN-109187755-B",
    "CN-109187771-A",
    "CN-109187771-B",
    "CN-109374748-A",
    "CN-109471069-A",
    "CN-109471069-B",
    "CN-109490419-A",
    "CN-109490419-B",
    "CN-109660749-A",
    "CN-109660749-B",
    "CN-109683133-A",
    "CN-109683133-B",
    "CN-109690358-A",
    "CN-109690358-B",
    "CN-109752722-A",
    "CN-109752722-B",
    "CN-109916612-A",
    "CN-110057921-A",
    "CN-110057921-B",
    "CN-110059371-A",
    "CN-110059371-B",
    "CN-110163897-A",
    "CN-110163897-B",
    "CN-110220591-A",
    "CN-110220591-B",
    "CN-110235022-A",
    "CN-110235022-B",
    "CN-110456362-A",
    "CN-110456362-B",
    "CN-110487892-A",
    "CN-110501423-A",
    "CN-110501423-B",
    "CN-110779989-A",
    "CN-110779989-B",
    "CN-111007565-A",
    "CN-111007565-B",
    "CN-111122705-A",
    "CN-111122705-B",
    "CN-111257412-A",
    "CN-111397726-A",
    "CN-111443330-A",
    "CN-111443330-B",
    "CN-111521683-A",
    "CN-111722233-A",
    "CN-111722233-B",
    "CN-111812205-A",
    "CN-111812205-B",
    "CN-111835362-A",
    "CN-111835362-B",
    "CN-111860664-A",
    "CN-111860664-B",
    "CN-112101461-A",
    "CN-112101461-B",
    "CN-112184656-A",
    "CN-112184656-B",
    "CN-112333402-A",
    "CN-112333402-B",
    "CN-112368600-A",
    "CN-112368600-B",
    "CN-112513675-A",
    "CN-112513675-B",
    "CN-112513834-A",
    "CN-112513834-B",
    "CN-112534423-A",
    "CN-112630778-A",
    "CN-112630778-B",
    "CN-112639768-A",
    "CN-112639768-B",
    "CN-112654887-A",
    "CN-112673368-A",
    "CN-112697269-A",
    "CN-112697269-B",
    "CN-112703375-A",
    "CN-112703376-A",
    "CN-112734713-A",
    "CN-112734713-B",
    "CN-112739995-A",
    "CN-112739996-A",
    "CN-112739997-A",
    "CN-112739997-B",
    "CN-112771515-A",
    "CN-112858183-A",
    "CN-112858183-B",
    "CN-112882041-A",
    "CN-112882041-B",
    "CN-112926179-A",
    "CN-112926179-B",
    "CN-112946081-A",
    "CN-112946081-B",
    "CN-112985583-A",
    "CN-112985583-B",
    "CN-113093198-A",
    "CN-113093198-B",
    "CN-113176577-A",
    "CN-113316943-A",
    "CN-113316943-B",
    "CN-113542668-A",
    "CN-113592773-A",
    "CN-113592773-B",
    "CN-113687415-A",
    "CN-113687415-B",
    "CN-113838001-A",
    "CN-113838001-B",
    "CN-114008925-A",
    "CN-114062507-A",
    "CN-114077551-A",
    "CN-114136432-A",
    "CN-114374725-A",
    "CN-114384532-A",
    "CN-114397010-A",
    "CN-114397368-A",
    "CN-114397368-B",
    "CN-114415188-A",
    "CN-114415188-B",
    "CN-114494102-A",
    "CN-114625319-A",
    "CN-114740485-A",
    "CN-114966676-A",
    "CN-114966676-B",
    "CN-115061122-A",
    "CN-115079264-A",
    "CN-115079264-B",
    "CN-115128618-A",
    "CN-115166430-A",
    "CN-115170428-A",
    "CN-115280800-A",
    "CN-115291225-A",
    "CN-115374765-A",
    "CN-115374765-B",
    "CN-115516336-A",
    "CN-115524397-A",
    "CN-115541717-A",
    "CN-115620742-A",
    "CN-115620742-B",
    "CN-115684360-A",
    "CN-115685215-A",
    "CN-115704879-A",
    "CN-115792927-A",
    "CN-116223224-A",
    "CN-116223224-B",
    "CN-116297870-A",
    "CN-116299494-A",
    "CN-116363038-A",
    "CN-116363038-B",
    "CN-116374230-A",
    "CN-116374230-B",
    "CN-116385417-A",
    "CN-116433950-A",
    "CN-116485932-A",
    "CN-116559287-A",
    "CN-116664471-A",
    "CN-116664520-A",
    "CN-116664520-B",
    "CN-116684843-A",
    "CN-116743983-A",
    "CN-116929662-A",
    "CN-116929662-B",
    "CN-116990823-A",
    "CN-117028870-A",
    "CN-117147694-A",
    "CN-117214301-A",
    "CN-117214903-A",
    "CN-117330641-A",
    "CN-117346881-A",
    "CN-117368840-A",
    "CN-117409028-A",
    "CN-117440112-A",
    "CN-117452338-A",
    "CN-117557450-A",
    "CN-117557859-A",
    "CN-117607899-A",
    "CN-117607899-B",
    "CN-117664224-A",
    "CN-117825527-A",
    "CN-117968971-A",
    "CN-117968971-B",
    "CN-118112098-A",
    "CN-118169251-A",
    "CN-118333919-A",
    "CN-118333919-B",
    "CN-118425321-A",
    "CN-118433540-A",
    "CN-118505719-A",
    "CN-118604831-A",
    "CN-118604831-B",
    "CN-118731954-A",
    "CN-118746620-A",
    "CN-118781282-A",
    "CN-118818236-A",
    "CN-118855449-A",
    "CN-118859200-A",
    "CN-118884120-A",
    "CN-1985165-A",
    "CN-1985165-B",
    "CN-206480055-U",
    "CN-208110038-U",
    "CN-209803061-U",
    "CN-211148532-U",
    "CN-212111790-U",
    "CN-213661843-U",
    "CN-216117875-U",
    "CN-218647148-U",
    "CN-219097003-U",
    "CN-219320179-U",
    "CN-219339745-U",
    "CN-219437404-U",
    "CN-220586734-U",
    "CN-220795451-U",
    "DK-3987663-T3",
    "DK-4143606-T3",
    "EP-1757928-A1",
    "EP-1757928-A4",
    "EP-1757928-B1",
    "EP-1950997-A1",
    "EP-1950997-A4",
    "EP-1950997-B1",
    "EP-2013641-A2",
    "EP-2101191-A2",
    "EP-2101191-A3",
    "EP-2541243-A1",
    "EP-2574956-A1",
    "EP-2726861-A1",
    "EP-2726861-B1",
    "EP-2776823-A1",
    "EP-2776823-A4",
    "EP-2975397-A1",
    "EP-2975397-B1",
    "EP-2982972-A1",
    "EP-2982972-B1",
    "EP-3191868-A1",
    "EP-3191868-B1",
    "EP-3209028-A1",
    "EP-3209028-A4",
    "EP-3350747-A1",
    "EP-3480618-A2",
    "EP-3480618-A3",
    "EP-3480618-B1",
    "EP-3555660-A1",
    "EP-3555660-A4",
    "EP-3555660-B1",
    "EP-3791204-A1",
    "EP-3799035-A1",
    "EP-3799035-A4",
    "EP-3814799-A1",
    "EP-3826541-A1",
    "EP-3826541-A4",
    "EP-3827226-A1",
    "EP-3827227-A1",
    "EP-3827228-A1",
    "EP-3827229-A1",
    "EP-3827230-A1",
    "EP-3830713-A1",
    "EP-3830714-A1",
    "EP-3830714-B1",
    "EP-3830715-A1",
    "EP-3830715-B1",
    "EP-3830716-A1",
    "EP-3830716-B1",
    "EP-3830717-A1",
    "EP-3830717-B1",
    "EP-3847473-A1",
    "EP-3900401-A1",
    "EP-3919934-A1",
    "EP-3919934-A4",
    "EP-3987663-A1",
    "EP-3987663-B1",
    "EP-4091344-A1",
    "EP-4143606-A1",
    "EP-4143606-B1",
    "EP-4206951-A1",
    "EP-4220437-A1",
    "EP-4266194-A1",
    "EP-4351166-A1",
    "FR-3097707-A1",
    "FR-3097707-B1",
    "FR-3109826-A1",
    "FR-3109826-B1",
    "GB-201810711-D0",
    "GB-201902574-D0",
    "GB-202304874-D0",
    "GB-2567605-A",
    "GB-2567605-B",
    "GB-2614197-A",
    "HK-1134645-A1",
    "IL-197306-A",
    "IL-197306-A0",
    "IL-197306-D0",
    "IN-201847012633-A",
    "IN-202127026884-A",
    "IN-202227046108-A",
    "IN-202247068730-A",
    "IN-202328030652-A",
    "JP-2005351864-A",
    "JP-2008118168-A",
    "JP-2008157812-A",
    "JP-2009168518-A",
    "JP-2009219876-A",
    "JP-2009532702-A",
    "JP-2012023735-A",
    "JP-2012023735-A5",
    "JP-2013079949-A",
    "JP-2016019849-A",
    "JP-2017194281-A",
    "JP-2018534958-A",
    "JP-2018534958-A5",
    "JP-2020501678-A",
    "JP-2021522912-A",
    "JP-2021529030-A",
    "JP-2021529596-A",
    "JP-2021532355-A",
    "JP-2021532356-A",
    "JP-2021532357-A",
    "JP-2021532358-A",
    "JP-2021532359-A",
    "JP-2021532472-A",
    "JP-2021532473-A",
    "JP-2021533446-A",
    "JP-2021533447-A",
    "JP-2022502113-A",
    "JP-2022511233-A",
    "JP-2022515998-A",
    "JP-2022547370-A",
    "JP-2023065678-A",
    "JP-2023171874-A",
    "JP-2023179680-A",
    "JP-2023511862-A",
    "JP-2023525682-A",
    "JP-2023542371-A",
    "JP-2024020307-A",
    "JP-2024038276-A",
    "JP-2024041847-A",
    "JP-2024059209-A",
    "JP-2024060178-A",
    "JP-4564286-B2",
    "JP-4740770-B2",
    "JP-4909279-B2",
    "JP-4955381-B2",
    "JP-5391241-B2",
    "JP-5697867-B2",
    "JP-5888833-B2",
    "JP-5997861-B1",
    "JP-6030207-B2",
    "JP-6030207-U",
    "JP-6585547-B2",
    "JP-7026328-B2",
    "JP-7026328-U",
    "JP-7242714-B2",
    "JP-7326667-B2",
    "JP-7340868-B2",
    "JP-7351057-B2",
    "JP-7352291-B2",
    "JP-7401462-B2",
    "JP-7403526-B2",
    "JP-7417587-B2",
    "JP-7419621-B2",
    "JP-7449278-B2",
    "JP-7488250-B2",
    "JP-7493491-B2",
    "JP-7499277-B2",
    "JP-7531946-B2",
    "KR-100927365-B1",
    "KR-101082085-B1",
    "KR-101406135-B1",
    "KR-101493956-B1",
    "KR-101529247-B1",
    "KR-101564647-B1",
    "KR-101696088-B1",
    "KR-102101771-B1",
    "KR-102112340-B1",
    "KR-102125751-B1",
    "KR-102173404-B1",
    "KR-102261754-B1",
    "KR-102503404-B1",
    "KR-102529634-B1",
    "KR-102659722-B1",
    "KR-102714656-B1",
    "KR-20070027702-A",
    "KR-20080110779-A",
    "KR-20090098748-A",
    "KR-20120030488-A",
    "KR-20150051762-A",
    "KR-20180054738-A",
    "KR-20180121649-A",
    "KR-20190092532-A",
    "KR-20200009638-A",
    "KR-20210021158-A",
    "KR-20210033532-A",
    "KR-20210034076-A",
    "KR-20210034661-A",
    "KR-20210035273-A",
    "KR-20210035881-A",
    "KR-20210037684-A",
    "KR-20210039394-A",
    "KR-20210101316-A",
    "KR-20220098659-A",
    "KR-20220156809-A",
    "KR-20220163311-A",
    "KR-20230003772-A",
    "KR-20230006309-A",
    "KR-20230017788-A",
    "KR-20230054427-A",
    "KR-20230084929-A",
    "KR-20240005112-A",
    "KR-20240033311-A",
    "KR-20240100288-A",
    "MX-2014006392-A",
    "MX-2021007337-A",
    "NO-20190216-A1",
    "RU-2780536-C1",
    "SA-519401009-B1",
    "TW-201211530-A",
    "TW-201934995-A",
    "TW-202027065-A",
    "TW-I663397-B",
    "TW-I786356-B",
    "TW-M644123-U",
    "US-10039526-B2",
    "US-10281568-B2",
    "US-10317905-B2",
    "US-10324174-B2",
    "US-10451733-B2",
    "US-10605783-B2",
    "US-10663433-B2",
    "US-10989798-B2",
    "US-11036807-B2",
    "US-11068544-B2",
    "US-11080337-B2",
    "US-11163082-B2",
    "US-11255965-B2",
    "US-11294965-B2",
    "US-11317233-B2",
    "US-11402503-B2",
    "US-11474080-B2",
    "US-11581009-B2",
    "US-11609317-B2",
    "US-11703579-B2",
    "US-11727064-B2",
    "US-11734363-B2",
    "US-11748418-B2",
    "US-11762089-B2",
    "US-11808849-B2",
    "US-11857367-B2",
    "US-11937068-B2",
    "US-11960002-B2",
    "US-11965958-B2",
    "US-12105052-B2",
    "US-12117523-B2",
    "US-12130359-B2",
    "US-20050209791-A1",
    "US-20060071668-A1",
    "US-20070236694-A1",
    "US-20080245150-A1",
    "US-20090234230-A1",
    "US-20090301200-A1",
    "US-20100245844-A1",
    "US-20130016583-A1",
    "US-20130083628-A1",
    "US-20130142009-A1",
    "US-20140140167-A1",
    "US-20150103629-A1",
    "US-20150185318-A1",
    "US-20150226843-A1",
    "US-20160018519-A1",
    "US-20170052150-A1",
    "US-20170079624-A1",
    "US-20170223475-A1",
    "US-20170285151-A1",
    "US-20170299719-A1",
    "US-20180031718-A1",
    "US-20180310921-A1",
    "US-20190049962-A1",
    "US-20190113480-A1",
    "US-20190129027-A1",
    "US-20190154791-A1",
    "US-20200025919-A1",
    "US-20200033461-A1",
    "US-20200041644-A1",
    "US-20200042240-A1",
    "US-20200042548-A1",
    "US-20200042549-A1",
    "US-20200042557-A1",
    "US-20200045110-A1",
    "US-20210058731-A1",
    "US-20210132223-A1",
    "US-20210219952-A1",
    "US-20210223375-A1",
    "US-20210256062-A1",
    "US-20210275141-A1",
    "US-20210289309-A1",
    "US-20210293953-A1",
    "US-20210310856-A1",
    "US-20210310857-A1",
    "US-20210311187-A1",
    "US-20210311188-A1",
    "US-20210338208-A1",
    "US-20210342395-A1",
    "US-20210343309-A1",
    "US-20210356573-A1",
    "US-20220146668-A1",
    "US-20220215652-A1",
    "US-20220377489-A1",
    "US-20220381606-A1",
    "US-20220413134-A1",
    "US-20230168371-A1",
    "US-20230230238-A1",
    "US-20240118416-A1",
    "US-20240179486-A1",
    "US-20240264305-A1",
    "US-7715018-B2",
    "US-7817843-B2",
    "US-7822258-B2",
    "US-8020445-B2",
    "US-8169621-B2",
    "US-8397574-B2",
    "US-9110166-B2",
    "US-9117439-B2",
    "US-9739752-B2",
    "US-9866983-B2",
    "US-9880272-B2",
    "US-9927521-B2",
    "US-D920137-S1",
    "WO-2005093404-A2",
    "WO-2005093404-A3",
    "WO-2005121771-A1",
    "WO-2007046180-A1",
    "WO-2008054496-A2",
    "WO-2008054496-A3",
    "WO-2013006046-A1",
    "WO-2013082480-A1",
    "WO-2016039772-A1",
    "WO-2016058393-A1",
    "WO-2017048549-A1",
    "WO-2017183540-A1",
    "WO-2018026705-A1",
    "WO-2018107299-A1",
    "WO-2019215115-A1",
    "WO-2019216414-A1",
    "WO-2020002952-A1",
    "WO-2020020867-A1",
    "WO-2020023075-A1",
    "WO-2020023622-A1",
    "WO-2020023627-A1",
    "WO-2020023629-A1",
    "WO-2020023631-A1",
    "WO-2020023633-A1",
    "WO-2020026036-A1",
    "WO-2020026112-A1",
    "WO-2020028583-A1",
    "WO-2020028594-A1",
    "WO-2020028594-A9",
    "WO-2020028597-A1",
    "WO-2020049012-A1",
    "WO-2020127329-A1",
    "WO-2020254325-A1",
    "WO-2021144308-A1",
    "WO-2021219402-A1",
    "WO-2022062461-A1",
    "WO-2022083599-A1",
    "WO-2022250219-A1",
    "WO-2023237988-A1",
    "WO-2024057314-A1",
    "WO-2024136501-A1",
    "ZA-202105016-B"
]

# response=requests.post(url,json=paylaod)
# print(response.json())
import json,requests
with open("rough/output3/results.json", 'r') as file:
    data = json.load(file)
    
from datetime import datetime
def get_latest_patents(json_data):
    family_dict = {}

    for patent in json_data["patents"]:
        family_id = patent["family_id"]
        publication_date = datetime.strptime(patent["publication_date"], "%Y-%m-%d")
        patent_number = patent["patent_number"]

        if family_id not in family_dict or publication_date > family_dict[family_id]["publication_date"]:
            family_dict[family_id] = {"publication_date": publication_date, "patent_number": patent_number}

    # Extract the latest patent numbers
    latest_patent_numbers = [info["patent_number"] for info in family_dict.values()]
    return latest_patent_numbers

 
latest_patents = get_latest_patents(data)
print("Latest Patent Numbers:", latest_patents,len(latest_patents))